@using Microsoft.AspNetCore.Mvc.Localization
@model PMSWebApp.Models.UsersViewModel
@using PMSWebApp.Controllers
@inject Microsoft.Extensions.Localization.IStringLocalizer<UsersController> Localizer

<h1>@Localizer["Users"]</h1>

@{
    ViewData["Title"] = Localizer["Users"];
}

<div class="card">
    <div class="card-header">
        <!-- Row 1 -->
        <div class="row align-items-center">
            <div class="col-md-1">
                <button type="button" onclick="history.back()" class="btn btn-secondary btn-sm">
                    <i class="bi bi-arrow-left me-1"></i>
                </button>
            </div>
            <div class="col-md-5 mb-2 mb-md-0">
                <h4 class="mb-0">
                    @Localizer["Users"]
                    <span class="badge bg-secondary" id="totalUserCount"></span>
                </h4>
            </div>
            <div class="col-md-6 d-flex justify-content-md-end justify-content-start gap-2 flex-wrap">
                <div class="input-group w-auto">
                    <span class="input-group-text bg-white border-end-0 rounded-pill">
                        <input id="searchUser" type="text"
                               class="no-border-on-focus form-control "
                               placeholder="Search..."
                               style="border: none;" />

                        <i class="bi bi-search"></i>
                    </span>
                </div>
                <button class="btn btn-outline-secondary text-success"><i class="bi bi-funnel filter-icon"></i> Filter</button>
                <a asp-action="AddEdit" class="btn btn-success">@Localizer["NewUser"]</a>
               
            </div>
        </div>

        <!-- Row 2 -->
        <div class="row mt-3">
            <div class="col-12 d-flex align-items-center">
                <ul class="nav nav-pills mb-0" id="userTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="btn btn-outline-secondary me-2 active"
                                id="grid-tab"
                                data-bs-toggle="tab"
                                data-bs-target="#usergridView"
                                type="button"
                                role="tab"
                                aria-controls="usergridView"
                                aria-selected="true">
                            <i class="bi bi-grid-3x3-gap-fill"></i>@Localizer["Grid"]
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="btn btn-outline-secondary"
                                id="list-tab"
                                data-bs-toggle="tab"
                                data-bs-target="#userlistView"
                                type="button"
                                role="tab"
                                aria-controls="userlistView"
                                aria-selected="false">
                            <i class="bi bi-list-ul"></i>@Localizer["List"]
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="card-body p-0">
        <div class="tab-content mt-3">
            <div class="tab-pane fade show active" id="usergridView" role="tabpanel" aria-labelledby="grid-tab">
                <div class="row d-flex flex-wrap align-items-stretch">
                    <div id="gridContainer" class="row m-1"></div>
                    <div id="gridPagination" class="m-3"></div>

                </div>
            </div>
            <div class="tab-pane fade" id="userlistView" role="tabpanel" aria-labelledby="list-tab">
                <partial name="_usersList" />
            </div>
        </div>
    </div>
</div>
@* <div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h4 class="mb-0">Users <span class="badge bg-secondary" id="totalUserCount"></span></h4>
        <div>
            <button class="btn btn-outline-secondary"><i class="bi bi-funnel filter-icon"></i>Filter</button>
            <a asp-action="AddEdit" class="btn btn-success">+ New User</a>
        </div>
    </div>
    <div class="d-flex justify-content-between align-items-center mb-4 flex-wrap gap-2">
        <div class="col-12 col-md-6">
            <div class="input-group">
                <span  class="input-group-text bg-white border-end-0 rounded-pill">
                    <input id="searchUser" type="text"
                           class="no-border-on-focus form-control "
                           placeholder="Search..."
                           style="border: none;" />

                    <i class="bi bi-search"></i>
                </span>
            </div>
        </div>
        <div class="d-flex align-items-center gap-2">

            <ul class="nav nav-pills mb-3" id="userTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="btn btn-outline-secondary me-2 active"
                            id="grid-tab"
                            data-bs-toggle="tab"
                            data-bs-target="#usergridView"
                            type="button"
                            role="tab"
                            aria-controls="usergridView"
                            aria-selected="true">
                        <i class="bi bi-grid-3x3-gap-fill"></i> Grid
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="btn btn-outline-secondary"
                            id="list-tab"
                            data-bs-toggle="tab"
                            data-bs-target="#userlistView"
                            type="button"
                            role="tab"
                            aria-controls="userlistView"
                            aria-selected="false">
                        <i class="bi bi-list-ul"></i> List
                    </button>
                </li>
            </ul>


        </div>


    </div>

    <div class="tab-content mt-3">
        <div class="tab-pane fade show active" id="usergridView" role="tabpanel" aria-labelledby="grid-tab">
            <div class="row d-flex flex-wrap align-items-stretch">
                <div id="gridContainer" class="row"></div>
                <div id="gridPagination"></div>
           
            </div>
        </div>
        <div class="tab-pane fade" id="userlistView" role="tabpanel" aria-labelledby="list-tab">
            <partial name="_usersList" />
        </div>
    </div>

  
</div> *@


@section Scripts {
    <script src="~/js/users.js"></script>


}

